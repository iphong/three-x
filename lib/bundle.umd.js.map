{"version":3,"sources":["webpack://ThreeX/webpack/universalModuleDefinition","webpack://ThreeX/webpack/bootstrap","webpack://ThreeX/./node_modules/three/examples/js/controls/FlyControls.js","webpack://ThreeX/./node_modules/three/examples/js/controls/MapControls.js","webpack://ThreeX/./node_modules/three/examples/js/controls/OrbitControls.js","webpack://ThreeX/./node_modules/three/examples/js/controls/PointerLockControls.js","webpack://ThreeX/./node_modules/three/examples/js/loaders/MTLLoader.js","webpack://ThreeX/./node_modules/three/examples/js/loaders/OBJLoader.js","webpack://ThreeX/./node_modules/three/examples/js/objects/Sky.js","webpack://ThreeX/./node_modules/three/src/constants.js","webpack://ThreeX/./node_modules/three/src/core/BufferAttribute.js","webpack://ThreeX/./node_modules/three/src/core/BufferGeometry.js","webpack://ThreeX/./node_modules/three/src/core/DirectGeometry.js","webpack://ThreeX/./node_modules/three/src/core/EventDispatcher.js","webpack://ThreeX/./node_modules/three/src/core/Layers.js","webpack://ThreeX/./node_modules/three/src/core/Object3D.js","webpack://ThreeX/./node_modules/three/src/helpers/GridHelper.js","webpack://ThreeX/./node_modules/three/src/materials/LineBasicMaterial.js","webpack://ThreeX/./node_modules/three/src/materials/Material.js","webpack://ThreeX/./node_modules/three/src/math/Box3.js","webpack://ThreeX/./node_modules/three/src/math/Color.js","webpack://ThreeX/./node_modules/three/src/math/Euler.js","webpack://ThreeX/./node_modules/three/src/math/Math.js","webpack://ThreeX/./node_modules/three/src/math/Matrix3.js","webpack://ThreeX/./node_modules/three/src/math/Matrix4.js","webpack://ThreeX/./node_modules/three/src/math/Quaternion.js","webpack://ThreeX/./node_modules/three/src/math/Ray.js","webpack://ThreeX/./node_modules/three/src/math/Sphere.js","webpack://ThreeX/./node_modules/three/src/math/Vector2.js","webpack://ThreeX/./node_modules/three/src/math/Vector3.js","webpack://ThreeX/./node_modules/three/src/math/Vector4.js","webpack://ThreeX/./node_modules/three/src/objects/Line.js","webpack://ThreeX/./node_modules/three/src/objects/LineSegments.js","webpack://ThreeX/./node_modules/three/src/utils.js","webpack://ThreeX/./src/File3D.js","webpack://ThreeX/./src/Floor3D.js","webpack://ThreeX/./src/Object3D.js","webpack://ThreeX/./src/Scene3D.js","webpack://ThreeX/./src/Sky3D.js","webpack://ThreeX/./src/index.js","webpack://ThreeX/external {\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ThreeX/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://ThreeX/external {\"commonjs\":\"three\",\"commonjs2\":\"three\",\"amd\":\"three\",\"root\":\"THREE\"}"],"names":["THREE","FlyControls","object","domElement","undefined","document","setAttribute","movementSpeed","rollSpeed","dragToLook","autoForward","tmpQuaternion","Quaternion","mouseStatus","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","Vector3","rotationVector","handleEvent","event","type","keydown","altKey","keyCode","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","mousedown","focus","preventDefault","stopPropagation","button","mousemove","container","getContainerDimensions","halfWidth","size","halfHeight","pageX","offset","pageY","mouseup","update","delta","moveMult","rotMult","translateX","x","translateY","y","translateZ","z","set","normalize","quaternion","multiply","rotation","setFromQuaternion","order","offsetWidth","offsetHeight","offsetLeft","offsetTop","window","innerWidth","innerHeight","bind","scope","fn","apply","arguments","contextmenu","dispose","removeEventListener","_mousedown","_mousemove","_mouseup","_keydown","_keyup","addEventListener","MapControls","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","PAN","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","state","STATE","NONE","quat","setFromUnitVectors","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","max","min","makeSafe","radius","scale","add","panOffset","setFromSpherical","lookAt","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE_UP","ROTATE_LEFT","ROTATE","DOLLY","DOLLY_ROTATE","DOLLY_PAN","Spherical","rotateStart","Vector2","rotateStart2","rotateEnd","rotateEnd2","rotateDelta","rotateDelta2","rotateDeltaStartFingers","rotateDeltaEndFingers","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","clientWidth","top","bottom","console","warn","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","handleTouchStartRotate","touches","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartPan","handleTouchMoveRotate","isRotateUp","isHorizontal","isVertical","precision","sin","vector","abs","cos","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","prototype","Object","create","EventDispatcher","constructor","defineProperties","center","get","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","OrbitControls","TOUCH_ROTATE","TOUCH_DOLLY_PAN","handleTouchStartDollyPan","handleTouchMoveDollyPan","PointerLockControls","camera","pitchObject","Object3D","yawObject","PI_2","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","getObject","getDirection","direction","Euler","applyEuler","MTLLoader","manager","DefaultLoadingManager","load","url","onLoad","onProgress","onError","loader","FileLoader","setPath","path","text","parse","setTexturePath","texturePath","setBaseUrl","setCrossOrigin","crossOrigin","setMaterialOptions","materialOptions","lines","split","info","delimiter_pattern","materialsInfo","i","line","trim","charAt","pos","indexOf","key","substring","toLowerCase","name","ss","parseFloat","materialCreator","MaterialCreator","setManager","setMaterials","baseUrl","options","materials","materialsArray","nameLookup","side","FrontSide","wrap","RepeatWrapping","convert","converted","mn","mat","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","preload","getIndex","materialName","getAsArray","index","createMaterial_","params","resolveURL","test","setMapForType","mapType","texParams","getTextureParams","map","loadTexture","repeat","wrapS","wrapT","n","color","Color","fromArray","specular","shininess","opacity","transparent","invertTrProperty","MeshPhongMaterial","matParams","items","bumpScale","splice","join","mapping","texture","Loader","Handlers","TextureLoader","OBJLoader","object_pattern","material_library_pattern","material_use_pattern","ParserState","objects","vertices","normals","colors","uvs","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","geometry","smooth","startMaterial","libraries","previous","inherited","groupCount","material","mtllib","Array","isArray","groupStart","groupEnd","cloned","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","a","b","c","src","dst","addVertexPoint","addVertexLine","addNormal","addColor","addUV","addUVLine","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","uvLen","nLen","addPointGeometry","vi","l","addLineGeometry","uvi","time","replace","lineFirstChar","lineLength","result","trimLeft","data","lineData","substr","vertexData","faceVertices","j","jl","vertex","vertexParts","v1","v2","v3","lineParts","lineVertices","lineUVs","li","llen","parts","pointData","exec","Error","Group","concat","isLine","isPoints","hasVertexColors","buffergeometry","BufferGeometry","addAttribute","Float32BufferAttribute","computeVertexNormals","createdMaterials","miLen","sourceMaterial","LineBasicMaterial","materialLine","lights","PointsMaterial","materialPoints","sizeAttenuation","flatShading","vertexColors","VertexColors","NoColors","mesh","addGroup","LineSegments","Points","Mesh","timeEnd","Sky","shader","SkyShader","ShaderMaterial","fragmentShader","vertexShader","uniforms","UniformsUtils","BackSide","call","BoxBufferGeometry","luminance","turbidity","rayleigh","mieCoefficient","mieDirectionalG","sunPosition","REVISION","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","DoubleSide","FlatShading","SmoothShading","FaceColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","BufferAttribute","array","itemSize","normalized","TypeError","count","dynamic","updateRange","version","defineProperty","assign","isBufferAttribute","onUploadCallback","setArray","setDynamic","source","copyAt","index1","attribute","index2","copyArray","copyColorsArray","r","g","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","w","getX","setX","getY","setY","getZ","setZ","getW","setW","setXY","setXYZ","setXYZW","onUpload","callback","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32Array","Float64BufferAttribute","Float64Array","bufferGeometryId","uuid","_Math","generateUUID","attributes","morphAttributes","groups","boundingBox","boundingSphere","drawRange","start","userData","isBufferGeometry","setIndex","arrayMax","isInterleavedBufferAttribute","getAttribute","removeAttribute","materialIndex","clearGroups","setDrawRange","applyMatrix","applyToBufferAttribute","needsUpdate","normal","normalMatrix","getNormalMatrix","computeBoundingBox","computeBoundingSphere","rotateX","m1","makeRotationX","rotateY","makeRotationY","rotateZ","makeRotationZ","translate","makeTranslation","makeScale","obj","updateMatrix","getCenter","negate","setFromObject","positions","lineDistances","isMesh","isGeometry","fromGeometry","setFromPoints","points","point","updateFromObject","direct","__directGeometry","elementsNeedUpdate","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","uv","lineDistancesNeedUpdate","lineDistance","computeGroups","fromDirectGeometry","uvs2","morphTargets","morphTarget","skinIndices","skinWeights","setFromBufferAttribute","makeEmpty","isNaN","error","box","maxRadiusSq","il","computeFaceNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","group","cross","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","toNonIndexed","geometry2","array2","toJSON","metadata","generator","parameters","slice","JSON","stringify","toArray","morphAttribute","DirectGeometry","faces","face","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormals","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexNormals","vertexUvs","morphNormal","listener","_listeners","listeners","hasEventListener","listenerArray","Layers","mask","channel","enable","toggle","disable","layers","object3DId","parent","children","DefaultUp","onRotationChange","setFromEuler","onQuaternionChange","onChange","enumerable","modelViewMatrix","matrixWorld","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","isObject3D","onBeforeRender","onAfterRender","multiplyMatrices","decompose","q","premultiply","setRotationFromAxisAngle","axis","setFromAxisAngle","setRotationFromEuler","euler","setRotationFromMatrix","m","setFromRotationMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateOnWorldAxis","translateOnAxis","localToWorld","applyMatrix4","worldToLocal","getInverse","isVector3","isCamera","remove","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","setFromMatrixPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","compose","force","meta","isRootObject","output","geometries","textures","images","shapes","serialize","library","shape","uuids","extractFromCache","cache","values","recursive","GridHelper","divisions","color1","color2","step","halfSize","k","Material","linewidth","linecap","linejoin","setValues","isLineBasicMaterial","materialId","fog","blending","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","overdraw","isMaterial","onBeforeCompile","newValue","currentValue","isColor","Number","isRoot","getHex","roughness","metalness","emissive","emissiveIntensity","clearCoat","clearCoatRoughness","isTexture","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","gradientMap","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","srcPlanes","dstPlanes","Box3","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","expandByPoint","setFromCenterAndSize","expandByObject","isEmpty","addVectors","getSize","expandByVector","expandByScalar","scalar","addScalar","node","fromBufferAttribute","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","closestPoint","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","v0","f0","f1","f2","testAxis","extents","triangleNormal","satForAxes","axes","p0","p1","p2","triangle","clamp","distanceToPoint","clampedPoint","getBoundingSphere","intersect","union","elements","xax","xay","xaz","xbx","xby","xbz","yax","yay","yaz","ybx","yby","ybz","zax","zay","zaz","zbx","zby","zbz","equals","ColorKeywords","setRGB","setHex","setStyle","setScalar","hex","floor","setHSL","hue2rgb","p","t","h","s","euclideanModulo","style","handleAlpha","string","components","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","SRGBToLinear","copyLinearToSRGB","LinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHexString","toString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","hsl","addColors","lerp","alpha","_x","_y","_z","_order","DefaultOrder","RotationOrders","onChangeCallback","isEuler","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","asin","atan2","makeRotationFromQuaternion","reorder","newOrder","toVector3","optionalResult","DEG2RAD","RAD2DEG","lut","d0","random","d1","d2","d3","toUpperCase","mapLinear","a1","a2","b1","b2","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyMatrix3","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","e","f","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","matrix4","transposeIntoArray","setUvTransform","tx","ty","sx","sy","cx","cy","rotate","Matrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","zero","one","eye","lengthSq","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeRotationAxis","makeShear","_w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sz","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","slerp","qa","qb","qm","slerpFlat","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","EPSILON","tDir","c1","c2","c3","s1","s2","s3","halfAngle","trace","vFrom","vTo","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","Ray","origin","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","diff","optionalPointOnRay","optionalPointOnSegment","segExtent","distanceTo","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","denominator","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","QdN","transformDirection","Sphere","optionalCenter","empty","radiusSum","deltaLengthSq","getBoundingBox","isVector2","setComponent","getComponent","addScaledVector","subScalar","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","round","roundToZero","manhattanLength","manhattanDistanceTo","setLength","lerpVectors","rotateAround","multiplyVectors","applyAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","project","projectionMatrix","unproject","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","angleTo","acos","dz","sinPhiRadius","setFromCylindrical","setFromMatrixScale","Vector4","isVector4","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","Line","mode","computeLineDistances","positionAttribute","inverseMatrix","raycaster","intersects","linePrecision","precisionSq","vStart","vEnd","interSegment","interRay","isLineSegments","distSq","faceIndex","nbVertices","arrayMin","File3D","Three","forEach","enhance","componentDidMount","matLoader","props","mtl","objLoader","Floor3D","MeshPhysicalMaterial","PlaneBufferGeometry","grid","ParentContext","React","createContext","Component","componentDidUpdate","componentWillUnmount","render","PropTypes","Scene3D","Clock","createRef","Scene","PerspectiveCamera","WebGLRenderer","antialias","orbit","width","height","aspect","renderer","setSize","shadowMap","controls","current","scene","mounted","requestAnimationFrame","animate","wrapper","appendChild","SphereGeometry","MeshLambertMaterial","handleClick","bool","oneOf","number","Sky3D","DirectionalLight","HemisphereLight","AmbientLight","sky","light","hemi","ambient","inclination","azimuth","sunX","sunY","sunZ","intensity","shadow","mapSize","groundColor","propTypes","defaultProps"],"mappings":"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","file":"bundle.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"prop-types\"), require(\"react\"), require(\"three\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"prop-types\", \"react\", \"three\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ThreeX\"] = factory(require(\"prop-types\"), require(\"react\"), require(\"three\"));\n\telse\n\t\troot[\"ThreeX\"] = factory(root[undefined], root[\"React\"], root[\"THREE\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_prop_types__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_three__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\n * @author James Baicoianu / http://www.baicoianu.com/\n */\n\nTHREE.FlyControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\tif ( domElement ) this.domElement.setAttribute( 'tabindex', - 1 );\n\n\t// API\n\n\tthis.movementSpeed = 1.0;\n\tthis.rollSpeed = 0.005;\n\n\tthis.dragToLook = false;\n\tthis.autoForward = false;\n\n\t// disable default target object behavior\n\n\t// internals\n\n\tthis.tmpQuaternion = new THREE.Quaternion();\n\n\tthis.mouseStatus = 0;\n\n\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\n\tthis.moveVector = new THREE.Vector3( 0, 0, 0 );\n\tthis.rotationVector = new THREE.Vector3( 0, 0, 0 );\n\n\tthis.handleEvent = function ( event ) {\n\n\t\tif ( typeof this[ event.type ] == 'function' ) {\n\n\t\t\tthis[ event.type ]( event );\n\n\t\t}\n\n\t};\n\n\tthis.keydown = function ( event ) {\n\n\t\tif ( event.altKey ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//event.preventDefault();\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase 16: /* shift */ this.movementSpeedMultiplier = .1; break;\n\n\t\t\tcase 87: /*W*/ this.moveState.forward = 1; break;\n\t\t\tcase 83: /*S*/ this.moveState.back = 1; break;\n\n\t\t\tcase 65: /*A*/ this.moveState.left = 1; break;\n\t\t\tcase 68: /*D*/ this.moveState.right = 1; break;\n\n\t\t\tcase 82: /*R*/ this.moveState.up = 1; break;\n\t\t\tcase 70: /*F*/ this.moveState.down = 1; break;\n\n\t\t\tcase 38: /*up*/ this.moveState.pitchUp = 1; break;\n\t\t\tcase 40: /*down*/ this.moveState.pitchDown = 1; break;\n\n\t\t\tcase 37: /*left*/ this.moveState.yawLeft = 1; break;\n\t\t\tcase 39: /*right*/ this.moveState.yawRight = 1; break;\n\n\t\t\tcase 81: /*Q*/ this.moveState.rollLeft = 1; break;\n\t\t\tcase 69: /*E*/ this.moveState.rollRight = 1; break;\n\n\t\t}\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.keyup = function ( event ) {\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase 16: /* shift */ this.movementSpeedMultiplier = 1; break;\n\n\t\t\tcase 87: /*W*/ this.moveState.forward = 0; break;\n\t\t\tcase 83: /*S*/ this.moveState.back = 0; break;\n\n\t\t\tcase 65: /*A*/ this.moveState.left = 0; break;\n\t\t\tcase 68: /*D*/ this.moveState.right = 0; break;\n\n\t\t\tcase 82: /*R*/ this.moveState.up = 0; break;\n\t\t\tcase 70: /*F*/ this.moveState.down = 0; break;\n\n\t\t\tcase 38: /*up*/ this.moveState.pitchUp = 0; break;\n\t\t\tcase 40: /*down*/ this.moveState.pitchDown = 0; break;\n\n\t\t\tcase 37: /*left*/ this.moveState.yawLeft = 0; break;\n\t\t\tcase 39: /*right*/ this.moveState.yawRight = 0; break;\n\n\t\t\tcase 81: /*Q*/ this.moveState.rollLeft = 0; break;\n\t\t\tcase 69: /*E*/ this.moveState.rollRight = 0; break;\n\n\t\t}\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.mousedown = function ( event ) {\n\n\t\tif ( this.domElement !== document ) {\n\n\t\t\tthis.domElement.focus();\n\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.dragToLook ) {\n\n\t\t\tthis.mouseStatus ++;\n\n\t\t} else {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveState.forward = 1; break;\n\t\t\t\tcase 2: this.moveState.back = 1; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\n\t\t}\n\n\t};\n\n\tthis.mousemove = function ( event ) {\n\n\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\n\n\t\t\tvar container = this.getContainerDimensions();\n\t\t\tvar halfWidth = container.size[ 0 ] / 2;\n\t\t\tvar halfHeight = container.size[ 1 ] / 2;\n\n\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\n\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\n\n\t\t\tthis.updateRotationVector();\n\n\t\t}\n\n\t};\n\n\tthis.mouseup = function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.dragToLook ) {\n\n\t\t\tthis.mouseStatus --;\n\n\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\n\n\t\t} else {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveState.forward = 0; break;\n\t\t\t\tcase 2: this.moveState.back = 0; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\n\t\t}\n\n\t\tthis.updateRotationVector();\n\n\t};\n\n\tthis.update = function ( delta ) {\n\n\t\tvar moveMult = delta * this.movementSpeed;\n\t\tvar rotMult = delta * this.rollSpeed;\n\n\t\tthis.object.translateX( this.moveVector.x * moveMult );\n\t\tthis.object.translateY( this.moveVector.y * moveMult );\n\t\tthis.object.translateZ( this.moveVector.z * moveMult );\n\n\t\tthis.tmpQuaternion.set( this.rotationVector.x * rotMult, this.rotationVector.y * rotMult, this.rotationVector.z * rotMult, 1 ).normalize();\n\t\tthis.object.quaternion.multiply( this.tmpQuaternion );\n\n\t\t// expose the rotation vector for convenience\n\t\tthis.object.rotation.setFromQuaternion( this.object.quaternion, this.object.rotation.order );\n\n\n\t};\n\n\tthis.updateMovementVector = function () {\n\n\t\tvar forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\n\n\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\n\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\n\t\tthis.moveVector.z = ( - forward + this.moveState.back );\n\n\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n\n\t};\n\n\tthis.updateRotationVector = function () {\n\n\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\n\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\n\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\n\n\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n\n\t};\n\n\tthis.getContainerDimensions = function () {\n\n\t\tif ( this.domElement != document ) {\n\n\t\t\treturn {\n\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\n\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\n\t\t\t};\n\n\t\t} else {\n\n\t\t\treturn {\n\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\n\t\t\t\toffset: [ 0, 0 ]\n\t\t\t};\n\n\t\t}\n\n\t};\n\n\tfunction bind( scope, fn ) {\n\n\t\treturn function () {\n\n\t\t\tfn.apply( scope, arguments );\n\n\t\t};\n\n\t}\n\n\tfunction contextmenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\tthis.dispose = function () {\n\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown, false );\n\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove, false );\n\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup, false );\n\n\t\twindow.removeEventListener( 'keydown', _keydown, false );\n\t\twindow.removeEventListener( 'keyup', _keyup, false );\n\n\t};\n\n\tvar _mousemove = bind( this, this.mousemove );\n\tvar _mousedown = bind( this, this.mousedown );\n\tvar _mouseup = bind( this, this.mouseup );\n\tvar _keydown = bind( this, this.keydown );\n\tvar _keyup = bind( this, this.keyup );\n\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\tthis.domElement.addEventListener( 'mousemove', _mousemove, false );\n\tthis.domElement.addEventListener( 'mousedown', _mousedown, false );\n\tthis.domElement.addEventListener( 'mouseup', _mouseup, false );\n\n\twindow.addEventListener( 'keydown', _keydown, false );\n\twindow.addEventListener( 'keyup', _keyup, false );\n\n\tthis.updateMovementVector();\n\tthis.updateRotationVector();\n\n};\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author moroine / https://github.com/moroine\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nTHREE.MapControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.RIGHT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.LEFT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: 0,\n\t\tROTATE_UP: 1,\n\t\tROTATE_LEFT: 2,\n\t\tROTATE: 3, // ROTATE_UP | ROTATE_LEFT\n\t\tDOLLY: 4,\n\t\tDOLLY_ROTATE: 7, // ROTATE | DOLLY\n\t\tPAN: 8,\n\t\tDOLLY_PAN: 12, // DOLLY | PAN\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateStart2 = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateEnd2 = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\tvar rotateDelta2 = new THREE.Vector2();\n\tvar rotateDeltaStartFingers = new THREE.Vector2();\n\tvar rotateDeltaEndFingers = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: MapControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t// console.log( 'handleTouchStartRotate' );\n\n\t\t// First finger\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t// Second finger\n\t\trotateStart2.set( event.touches[ 1 ].pageX, event.touches[ 1 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\t// console.log( 'handleTouchStartDolly' );\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\t// console.log( 'handleTouchStartPan' );\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( scope.enableRotate === false ) return;\n\t\tif ( ( state & STATE.ROTATE ) === 0 ) return;\n\n\t\t// First finger\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t// Second finger\n\t\trotateEnd2.set( event.touches[ 1 ].pageX, event.touches[ 1 ].pageY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\t\trotateDelta2.subVectors( rotateEnd2, rotateStart2 );\n\t\trotateDeltaStartFingers.subVectors( rotateStart2, rotateStart );\n\t\trotateDeltaEndFingers.subVectors( rotateEnd2, rotateEnd );\n\n\t\tif ( isRotateUp() ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\t// Start rotateUp ==> disable all movement to prevent flickering\n\t\t\tstate = STATE.ROTATE_UP;\n\n\t\t} else if ( ( state & STATE.ROTATE_LEFT ) !== 0 ) {\n\n\t\t\trotateLeft( ( rotateDeltaStartFingers.angle() - rotateDeltaEndFingers.angle() ) * scope.rotateSpeed );\n\n\t\t}\n\n\t\trotateStart.copy( rotateEnd );\n\t\trotateStart2.copy( rotateEnd2 );\n\n\t}\n\n\tfunction isRotateUp() {\n\n\t\t// At start, does the two fingers are aligned horizontally\n\t\tif ( ! isHorizontal( rotateDeltaStartFingers ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// At end, does the two fingers are aligned horizontally\n\t\tif ( ! isHorizontal( rotateDeltaEndFingers ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// does the first finger moved vertically between start and end\n\t\tif ( ! isVertical( rotateDelta ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// does the second finger moved vertically between start and end\n\t\tif ( ! isVertical( rotateDelta2 ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// Does the two finger moved in the same direction (prevent moving one finger vertically up while the other goes down)\n\t\treturn rotateDelta.dot( rotateDelta2 ) > 0;\n\n\t}\n\n\tvar isHorizontal = function () {\n\n\t\tvar precision = Math.sin( Math.PI / 6 );\n\n\t\treturn function isHorizontal( vector ) {\n\n\t\t\treturn Math.abs( Math.sin( vector.angle() ) ) < precision;\n\n\t\t};\n\n\t}();\n\n\tvar isVertical = function () {\n\n\t\tvar precision = Math.cos( Math.PI / 2 - Math.PI / 6 );\n\n\t\treturn function isVertical( vector ) {\n\n\t\t\treturn Math.abs( Math.cos( vector.angle() ) ) < precision;\n\n\t\t};\n\n\t}();\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tif ( scope.enableZoom === false ) return;\n\t\tif ( ( state & STATE.DOLLY ) === 0 ) return;\n\n\t\t// console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyIn( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( scope.enablePan === false ) return;\n\t\tif ( ( state & STATE.PAN ) === 0 ) return;\n\n\t\t// console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: rotate-dolly\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.PAN ) return; // is this needed?\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: rotate-dolly\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\t\t\t\tif ( ( state & STATE.DOLLY_ROTATE ) === 0 ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveRotate( event );\n\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nTHREE.MapControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.MapControls.prototype.constructor = THREE.MapControls;\n\nObject.defineProperties( THREE.MapControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: two-finger move\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = false; // if true, pan in screen-space\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchStartDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t//console.log( 'handleTouchMoveDollyPan' );\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyIn( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tif ( scope.enablePan ) {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties( THREE.OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.PointerLockControls = function ( camera ) {\n\n\tvar scope = this;\n\n\tcamera.rotation.set( 0, 0, 0 );\n\n\tvar pitchObject = new THREE.Object3D();\n\tpitchObject.add( camera );\n\n\tvar yawObject = new THREE.Object3D();\n\tyawObject.position.y = 10;\n\tyawObject.add( pitchObject );\n\n\tvar PI_2 = Math.PI / 2;\n\n\tvar onMouseMove = function ( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tvar movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n\t\tvar movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n\t\tyawObject.rotation.y -= movementX * 0.002;\n\t\tpitchObject.rotation.x -= movementY * 0.002;\n\n\t\tpitchObject.rotation.x = Math.max( - PI_2, Math.min( PI_2, pitchObject.rotation.x ) );\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\n\t};\n\n\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\n\tthis.enabled = false;\n\n\tthis.getObject = function () {\n\n\t\treturn yawObject;\n\n\t};\n\n\tthis.getDirection = function () {\n\n\t\t// assumes the camera itself is not rotated\n\n\t\tvar direction = new THREE.Vector3( 0, 0, - 1 );\n\t\tvar rotation = new THREE.Euler( 0, 0, 0, 'YXZ' );\n\n\t\treturn function ( v ) {\n\n\t\t\trotation.set( pitchObject.rotation.x, yawObject.rotation.y, 0 );\n\n\t\t\tv.copy( direction ).applyEuler( rotation );\n\n\t\t\treturn v;\n\n\t\t};\n\n\t}();\n\n};\n","/**\n * Loads a Wavefront .mtl file specifying materials\n *\n * @author angelxuanchang\n */\n\nTHREE.MTLLoader = function ( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n};\n\nTHREE.MTLLoader.prototype = {\n\n\tconstructor: THREE.MTLLoader,\n\n\t/**\n\t * Loads and parses a MTL asset from a URL.\n\t *\n\t * @param {String} url - URL to the MTL file.\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\n\t * @param {Function} [onProgress] - Callback for download progress.\n\t * @param {Function} [onError] - Callback for download errors.\n\t *\n\t * @see setPath setTexturePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setPath and/or setTexturePath explicitly prior to load.\n\t */\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new THREE.FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( text ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\t/**\n\t * Set base path for resolving references.\n\t * If set this path will be prepended to each loaded and found reference.\n\t *\n\t * @see setTexturePath\n\t * @param {String} path\n\t * @return {THREE.MTLLoader}\n\t *\n\t * @example\n\t *     mtlLoader.setPath( 'assets/obj/' );\n\t *     mtlLoader.load( 'my.mtl', ... );\n\t */\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Set base path for resolving texture references.\n\t * If set this path will be prepended found texture reference.\n\t * If not set and setPath is, it will be used as texture base path.\n\t *\n\t * @see setPath\n\t * @param {String} path\n\t * @return {THREE.MTLLoader}\n\t *\n\t * @example\n\t *     mtlLoader.setPath( 'assets/obj/' );\n\t *     mtlLoader.setTexturePath( 'assets/textures/' );\n\t *     mtlLoader.load( 'my.mtl', ... );\n\t */\n\tsetTexturePath: function ( path ) {\n\n\t\tthis.texturePath = path;\n\t\treturn this;\n\n\t},\n\n\tsetBaseUrl: function ( path ) {\n\n\t\tconsole.warn( 'THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.' );\n\n\t\treturn this.setTexturePath( path );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetMaterialOptions: function ( value ) {\n\n\t\tthis.materialOptions = value;\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Parses a MTL file.\n\t *\n\t * @param {String} text - Content of MTL file\n\t * @return {THREE.MTLLoader.MaterialCreator}\n\t *\n\t * @see setPath setTexturePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setPath and/or setTexturePath explicitly prior to parse.\n\t */\n\tparse: function ( text ) {\n\n\t\tvar lines = text.split( '\\n' );\n\t\tvar info = {};\n\t\tvar delimiter_pattern = /\\s+/;\n\t\tvar materialsInfo = {};\n\n\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\t\tvar line = lines[ i ];\n\t\t\tline = line.trim();\n\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t// Blank line or comment ignore\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar pos = line.indexOf( ' ' );\n\n\t\t\tvar key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n\t\t\tkey = key.toLowerCase();\n\n\t\t\tvar value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n\t\t\tvalue = value.trim();\n\n\t\t\tif ( key === 'newmtl' ) {\n\n\t\t\t\t// New material\n\n\t\t\t\tinfo = { name: value };\n\t\t\t\tmaterialsInfo[ value ] = info;\n\n\t\t\t} else if ( info ) {\n\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' ) {\n\n\t\t\t\t\tvar ss = value.split( delimiter_pattern, 3 );\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinfo[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar materialCreator = new THREE.MTLLoader.MaterialCreator( this.texturePath || this.path, this.materialOptions );\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\n\t\tmaterialCreator.setManager( this.manager );\n\t\tmaterialCreator.setMaterials( materialsInfo );\n\t\treturn materialCreator;\n\n\t}\n\n};\n\n/**\n * Create a new THREE-MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        THREE.FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        THREE.RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nTHREE.MTLLoader.MaterialCreator = function ( baseUrl, options ) {\n\n\tthis.baseUrl = baseUrl || '';\n\tthis.options = options;\n\tthis.materialsInfo = {};\n\tthis.materials = {};\n\tthis.materialsArray = [];\n\tthis.nameLookup = {};\n\n\tthis.side = ( this.options && this.options.side ) ? this.options.side : THREE.FrontSide;\n\tthis.wrap = ( this.options && this.options.wrap ) ? this.options.wrap : THREE.RepeatWrapping;\n\n};\n\nTHREE.MTLLoader.MaterialCreator.prototype = {\n\n\tconstructor: THREE.MTLLoader.MaterialCreator,\n\n\tcrossOrigin: 'anonymous',\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetManager: function ( value ) {\n\n\t\tthis.manager = value;\n\n\t},\n\n\tsetMaterials: function ( materialsInfo ) {\n\n\t\tthis.materialsInfo = this.convert( materialsInfo );\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t},\n\n\tconvert: function ( materialsInfo ) {\n\n\t\tif ( ! this.options ) return materialsInfo;\n\n\t\tvar converted = {};\n\n\t\tfor ( var mn in materialsInfo ) {\n\n\t\t\t// Convert materials info into normalized form based on options\n\n\t\t\tvar mat = materialsInfo[ mn ];\n\n\t\t\tvar covmat = {};\n\n\t\t\tconverted[ mn ] = covmat;\n\n\t\t\tfor ( var prop in mat ) {\n\n\t\t\t\tvar save = true;\n\t\t\t\tvar value = mat[ prop ];\n\t\t\t\tvar lprop = prop.toLowerCase();\n\n\t\t\t\tswitch ( lprop ) {\n\n\t\t\t\t\tcase 'kd':\n\t\t\t\t\tcase 'ka':\n\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\n\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\n\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n\t\t\t\t\t\t\t\t// ignore\n\n\t\t\t\t\t\t\t\tsave = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( save ) {\n\n\t\t\t\t\tcovmat[ lprop ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn converted;\n\n\t},\n\n\tpreload: function () {\n\n\t\tfor ( var mn in this.materialsInfo ) {\n\n\t\t\tthis.create( mn );\n\n\t\t}\n\n\t},\n\n\tgetIndex: function ( materialName ) {\n\n\t\treturn this.nameLookup[ materialName ];\n\n\t},\n\n\tgetAsArray: function () {\n\n\t\tvar index = 0;\n\n\t\tfor ( var mn in this.materialsInfo ) {\n\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\n\t\t\tthis.nameLookup[ mn ] = index;\n\t\t\tindex ++;\n\n\t\t}\n\n\t\treturn this.materialsArray;\n\n\t},\n\n\tcreate: function ( materialName ) {\n\n\t\tif ( this.materials[ materialName ] === undefined ) {\n\n\t\t\tthis.createMaterial_( materialName );\n\n\t\t}\n\n\t\treturn this.materials[ materialName ];\n\n\t},\n\n\tcreateMaterial_: function ( materialName ) {\n\n\t\t// Create material\n\n\t\tvar scope = this;\n\t\tvar mat = this.materialsInfo[ materialName ];\n\t\tvar params = {\n\n\t\t\tname: materialName,\n\t\t\tside: this.side\n\n\t\t};\n\n\t\tfunction resolveURL( baseUrl, url ) {\n\n\t\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\t\treturn '';\n\n\t\t\t// Absolute URL\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\n\n\t\t\treturn baseUrl + url;\n\n\t\t}\n\n\t\tfunction setMapForType( mapType, value ) {\n\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\n\n\t\t\tvar texParams = scope.getTextureParams( value, params );\n\t\t\tvar map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n\t\t\tmap.repeat.copy( texParams.scale );\n\t\t\tmap.offset.copy( texParams.offset );\n\n\t\t\tmap.wrapS = scope.wrap;\n\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\tparams[ mapType ] = map;\n\n\t\t}\n\n\t\tfor ( var prop in mat ) {\n\n\t\t\tvar value = mat[ prop ];\n\t\t\tvar n;\n\n\t\t\tif ( value === '' ) continue;\n\n\t\t\tswitch ( prop.toLowerCase() ) {\n\n\t\t\t\t// Ns is material specular exponent\n\n\t\t\t\tcase 'kd':\n\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\tparams.color = new THREE.Color().fromArray( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ks':\n\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\n\t\t\t\t\tparams.specular = new THREE.Color().fromArray( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t// Diffuse texture map\n\n\t\t\t\t\tsetMapForType( \"map\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t// Specular map\n\n\t\t\t\t\tsetMapForType( \"specularMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'norm':\n\n\t\t\t\t\tsetMapForType( \"normalMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_bump':\n\t\t\t\tcase 'bump':\n\n\t\t\t\t\t// Bump texture map\n\n\t\t\t\t\tsetMapForType( \"bumpMap\", value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ns':\n\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n\t\t\t\t\tparams.shininess = parseFloat( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'd':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( n < 1 ) {\n\n\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tr':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\n\n\t\t\t\t\tif ( n > 0 ) {\n\n\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.materials[ materialName ] = new THREE.MeshPhongMaterial( params );\n\t\treturn this.materials[ materialName ];\n\n\t},\n\n\tgetTextureParams: function ( value, matParams ) {\n\n\t\tvar texParams = {\n\n\t\t\tscale: new THREE.Vector2( 1, 1 ),\n\t\t\toffset: new THREE.Vector2( 0, 0 )\n\n\t\t };\n\n\t\tvar items = value.split( /\\s+/ );\n\t\tvar pos;\n\n\t\tpos = items.indexOf( '-bm' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\n\t\t\titems.splice( pos, 2 );\n\n\t\t}\n\n\t\tpos = items.indexOf( '-s' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\tpos = items.indexOf( '-o' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\ttexParams.url = items.join( ' ' ).trim();\n\t\treturn texParams;\n\n\t},\n\n\tloadTexture: function ( url, mapping, onLoad, onProgress, onError ) {\n\n\t\tvar texture;\n\t\tvar loader = THREE.Loader.Handlers.get( url );\n\t\tvar manager = ( this.manager !== undefined ) ? this.manager : THREE.DefaultLoadingManager;\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = new THREE.TextureLoader( manager );\n\n\t\t}\n\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n\t\ttexture = loader.load( url, onLoad, onProgress, onError );\n\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t}\n\n};\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.OBJLoader = ( function () {\n\n\t// o object_name | g group_name\n\tvar object_pattern = /^[og]\\s*(.+)?/;\n\t// mtllib file_reference\n\tvar material_library_pattern = /^mtllib /;\n\t// usemtl material_name\n\tvar material_use_pattern = /^usemtl /;\n\n\tfunction ParserState() {\n\n\t\tvar state = {\n\t\t\tobjects: [],\n\t\t\tobject: {},\n\n\t\t\tvertices: [],\n\t\t\tnormals: [],\n\t\t\tcolors: [],\n\t\t\tuvs: [],\n\n\t\t\tmaterialLibraries: [],\n\n\t\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object = {\n\t\t\t\t\tname: name || '',\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\tcolors: [],\n\t\t\t\t\t\tuvs: []\n\t\t\t\t\t},\n\t\t\t\t\tmaterials: [],\n\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\t\tvar previous = this._finalize( false );\n\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\t\treturn material;\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn undefined;\n\n\t\t\t\t\t},\n\n\t\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Inherit previous objects material.\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\n\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t\t}\n\n\t\t\t\tthis.objects.push( this.object );\n\n\t\t\t},\n\n\t\t\tfinalize: function () {\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\t\tthis.object._finalize( true );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t\t},\n\n\t\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t\t},\n\n\t\t\taddVertex: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexPoint: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddVertexLine: function ( a ) {\n\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t\t},\n\n\t\t\taddNormal: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.normals;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddColor: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.colors;\n\t\t\t\tvar dst = this.object.geometry.colors;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t\t},\n\n\t\t\taddUV: function ( a, b, c ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t\t},\n\n\t\t\taddUVLine: function ( a ) {\n\n\t\t\t\tvar src = this.uvs;\n\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t\t},\n\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\n\n\t\t\t\tthis.addVertex( ia, ib, ic );\n\n\t\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\t\tvar uvLen = this.uvs.length;\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\t\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\n\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\n\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.colors.length > 0 ) {\n\n\t\t\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexPoint( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tstate.startObject( '', false );\n\n\t\treturn state;\n\n\t}\n\n\t//\n\n\tfunction OBJLoader( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\n\t\tthis.materials = null;\n\n\t}\n\n\tOBJLoader.prototype = {\n\n\t\tconstructor: OBJLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.load( url, function ( text ) {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t}, onProgress, onError );\n\n\t\t},\n\n\t\tsetPath: function ( value ) {\n\n\t\t\tthis.path = value;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetMaterials: function ( materials ) {\n\n\t\t\tthis.materials = materials;\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( text ) {\n\n\t\t\tconsole.time( 'OBJLoader' );\n\n\t\t\tvar state = new ParserState();\n\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t\t}\n\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t\t}\n\n\t\t\tvar lines = text.split( '\\n' );\n\t\t\tvar line = '', lineFirstChar = '';\n\t\t\tvar lineLength = 0;\n\t\t\tvar result = [];\n\n\t\t\t// Faster to just trim left side of the line. Use if available.\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\t\tline = lines[ i ];\n\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\tlineLength = line.length;\n\n\t\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t\t// @todo invoke passed in handler if any\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\t\tvar data = line.split( /\\s+/ );\n\n\t\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( data.length === 8 ) {\n\n\t\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\n\t\t\t\t\tvar faceVertices = [];\n\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\n\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\n\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\n\t\t\t\t\tvar lineVertices = [], lineUVs = [];\n\n\t\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\n\n\t\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\n\n\t\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar pointData = lineData.split( \" \" );\n\n\t\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name\n\t\t\t\t\t// or\n\t\t\t\t\t// g group_name\n\n\t\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\t\tstate.startObject( name );\n\n\t\t\t\t} else if ( material_use_pattern.test( line ) ) {\n\n\t\t\t\t\t// material\n\n\t\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t\t} else if ( material_library_pattern.test( line ) ) {\n\n\t\t\t\t\t// mtl file\n\n\t\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t\t// smooth shading\n\n\t\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t * or\n\t\t\t\t\t * http://www.cs.utah.edu/~boulos/cs3505/obj_spec.pdf\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t\t}\n\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Handle null terminated files without exception\n\t\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\t\tthrow new Error( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.finalize();\n\n\t\t\tvar container = new THREE.Group();\n\t\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tvar object = state.objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\t\t\t\tvar materials = object.materials;\n\t\t\t\tvar isLine = ( geometry.type === 'Line' );\n\t\t\t\tvar isPoints = ( geometry.type === 'Points' );\n\t\t\t\tvar hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\n\n\t\t\t\tbuffergeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.addAttribute( 'color', new THREE.Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\tvar material = undefined;\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\n\t\t\t\t\t\t\tmaterialLine.copy( material );\n\t\t\t\t\t\t\tmaterialLine.lights = false; // TOFIX\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof THREE.PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tvar materialPoints = new THREE.PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tmaterialLine.copy( material );\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! material ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new THREE.PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\tmaterial.vertexColors = hasVertexColors ? THREE.VertexColors : THREE.NoColors;\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tvar sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\tconsole.timeEnd( 'OBJLoader' );\n\n\t\t\treturn container;\n\n\t\t}\n\n\t};\n\n\treturn OBJLoader;\n\n} )();\n","/**\n * @author zz85 / https://github.com/zz85\n *\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * http://www.cs.utah.edu/~shirley/papers/sunsky/sunsky.pdf\n *\n * First implemented by Simon Wallner\n * http://www.simonwallner.at/projects/atmospheric-scattering\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n*/\n\nTHREE.Sky = function () {\n\n\tvar shader = THREE.Sky.SkyShader;\n\n\tvar material = new THREE.ShaderMaterial( {\n\t\tfragmentShader: shader.fragmentShader,\n\t\tvertexShader: shader.vertexShader,\n\t\tuniforms: THREE.UniformsUtils.clone( shader.uniforms ),\n\t\tside: THREE.BackSide\n\t} );\n\n\tTHREE.Mesh.call( this, new THREE.BoxBufferGeometry( 1, 1, 1 ), material );\n\n};\n\nTHREE.Sky.prototype = Object.create( THREE.Mesh.prototype );\n\nTHREE.Sky.SkyShader = {\n\n\tuniforms: {\n\t\tluminance: { value: 1 },\n\t\tturbidity: { value: 2 },\n\t\trayleigh: { value: 1 },\n\t\tmieCoefficient: { value: 0.005 },\n\t\tmieDirectionalG: { value: 0.8 },\n\t\tsunPosition: { value: new THREE.Vector3() }\n\t},\n\n\tvertexShader: [\n\t\t'uniform vec3 sunPosition;',\n\t\t'uniform float rayleigh;',\n\t\t'uniform float turbidity;',\n\t\t'uniform float mieCoefficient;',\n\n\t\t'varying vec3 vWorldPosition;',\n\t\t'varying vec3 vSunDirection;',\n\t\t'varying float vSunfade;',\n\t\t'varying vec3 vBetaR;',\n\t\t'varying vec3 vBetaM;',\n\t\t'varying float vSunE;',\n\n\t\t'const vec3 up = vec3( 0.0, 1.0, 0.0 );',\n\n\t\t// constants for atmospheric scattering\n\t\t'const float e = 2.71828182845904523536028747135266249775724709369995957;',\n\t\t'const float pi = 3.141592653589793238462643383279502884197169;',\n\n\t\t// wavelength of used primaries, according to preetham\n\t\t'const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );',\n\t\t// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n\t\t// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n\t\t'const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );',\n\n\t\t// mie stuff\n\t\t// K coefficient for the primaries\n\t\t'const float v = 4.0;',\n\t\t'const vec3 K = vec3( 0.686, 0.678, 0.666 );',\n\t\t// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n\t\t'const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );',\n\n\t\t// earth shadow hack\n\t\t// cutoffAngle = pi / 1.95;\n\t\t'const float cutoffAngle = 1.6110731556870734;',\n\t\t'const float steepness = 1.5;',\n\t\t'const float EE = 1000.0;',\n\n\t\t'float sunIntensity( float zenithAngleCos ) {',\n\t\t'\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );',\n\t\t'\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );',\n\t\t'}',\n\n\t\t'vec3 totalMie( float T ) {',\n\t\t'\tfloat c = ( 0.2 * T ) * 10E-18;',\n\t\t'\treturn 0.434 * c * MieConst;',\n\t\t'}',\n\n\t\t'void main() {',\n\n\t\t'\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );',\n\t\t'\tvWorldPosition = worldPosition.xyz;',\n\n\t\t'\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n\t\t'\tgl_Position.z = gl_Position.w;', // set z to camera.far\n\n\t\t'\tvSunDirection = normalize( sunPosition );',\n\n\t\t'\tvSunE = sunIntensity( dot( vSunDirection, up ) );',\n\n\t\t'\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );',\n\n\t\t'\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );',\n\n\t\t// extinction (absorbtion + out scattering)\n\t\t// rayleigh coefficients\n\t\t'\tvBetaR = totalRayleigh * rayleighCoefficient;',\n\n\t\t// mie coefficients\n\t\t'\tvBetaM = totalMie( turbidity ) * mieCoefficient;',\n\n\t\t'}'\n\t].join( '\\n' ),\n\n\tfragmentShader: [\n\t\t'varying vec3 vWorldPosition;',\n\t\t'varying vec3 vSunDirection;',\n\t\t'varying float vSunfade;',\n\t\t'varying vec3 vBetaR;',\n\t\t'varying vec3 vBetaM;',\n\t\t'varying float vSunE;',\n\n\t\t'uniform float luminance;',\n\t\t'uniform float mieDirectionalG;',\n\n\t\t'const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );',\n\n\t\t// constants for atmospheric scattering\n\t\t'const float pi = 3.141592653589793238462643383279502884197169;',\n\n\t\t'const float n = 1.0003;', // refractive index of air\n\t\t'const float N = 2.545E25;', // number of molecules per unit volume for air at\n\t\t\t\t\t\t\t\t\t// 288.15K and 1013mb (sea level -45 celsius)\n\n\t\t// optical length at zenith for molecules\n\t\t'const float rayleighZenithLength = 8.4E3;',\n\t\t'const float mieZenithLength = 1.25E3;',\n\t\t'const vec3 up = vec3( 0.0, 1.0, 0.0 );',\n\t\t// 66 arc seconds -> degrees, and the cosine of that\n\t\t'const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;',\n\n\t\t// 3.0 / ( 16.0 * pi )\n\t\t'const float THREE_OVER_SIXTEENPI = 0.05968310365946075;',\n\t\t// 1.0 / ( 4.0 * pi )\n\t\t'const float ONE_OVER_FOURPI = 0.07957747154594767;',\n\n\t\t'float rayleighPhase( float cosTheta ) {',\n\t\t'\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );',\n\t\t'}',\n\n\t\t'float hgPhase( float cosTheta, float g ) {',\n\t\t'\tfloat g2 = pow( g, 2.0 );',\n\t\t'\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );',\n\t\t'\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );',\n\t\t'}',\n\n\t\t// Filmic ToneMapping http://filmicgames.com/archives/75\n\t\t'const float A = 0.15;',\n\t\t'const float B = 0.50;',\n\t\t'const float C = 0.10;',\n\t\t'const float D = 0.20;',\n\t\t'const float E = 0.02;',\n\t\t'const float F = 0.30;',\n\n\t\t'const float whiteScale = 1.0748724675633854;', // 1.0 / Uncharted2Tonemap(1000.0)\n\n\t\t'vec3 Uncharted2Tonemap( vec3 x ) {',\n\t\t'\treturn ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;',\n\t\t'}',\n\n\n\t\t'void main() {',\n\t\t// optical length\n\t\t// cutoff angle at 90 to avoid singularity in next formula.\n\t\t'\tfloat zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );',\n\t\t'\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );',\n\t\t'\tfloat sR = rayleighZenithLength * inverse;',\n\t\t'\tfloat sM = mieZenithLength * inverse;',\n\n\t\t// combined extinction factor\n\t\t'\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );',\n\n\t\t// in scattering\n\t\t'\tfloat cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );',\n\n\t\t'\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );',\n\t\t'\tvec3 betaRTheta = vBetaR * rPhase;',\n\n\t\t'\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );',\n\t\t'\tvec3 betaMTheta = vBetaM * mPhase;',\n\n\t\t'\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );',\n\t\t'\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );',\n\n\t\t// nightsky\n\t\t'\tvec3 direction = normalize( vWorldPosition - cameraPos );',\n\t\t'\tfloat theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]',\n\t\t'\tfloat phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]',\n\t\t'\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );',\n\t\t'\tvec3 L0 = vec3( 0.1 ) * Fex;',\n\n\t\t// composition + solar disc\n\t\t'\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );',\n\t\t'\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;',\n\n\t\t'\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );',\n\n\t\t'\tvec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );',\n\t\t'\tvec3 color = curr * whiteScale;',\n\n\t\t'\tvec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );',\n\n\t\t'\tgl_FragColor = vec4( retColor, 1.0 );',\n\n\t\t'}'\n\t].join( '\\n' )\n\n};\n","export var REVISION = '94';\nexport var MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nexport var CullFaceNone = 0;\nexport var CullFaceBack = 1;\nexport var CullFaceFront = 2;\nexport var CullFaceFrontBack = 3;\nexport var FrontFaceDirectionCW = 0;\nexport var FrontFaceDirectionCCW = 1;\nexport var BasicShadowMap = 0;\nexport var PCFShadowMap = 1;\nexport var PCFSoftShadowMap = 2;\nexport var FrontSide = 0;\nexport var BackSide = 1;\nexport var DoubleSide = 2;\nexport var FlatShading = 1;\nexport var SmoothShading = 2;\nexport var NoColors = 0;\nexport var FaceColors = 1;\nexport var VertexColors = 2;\nexport var NoBlending = 0;\nexport var NormalBlending = 1;\nexport var AdditiveBlending = 2;\nexport var SubtractiveBlending = 3;\nexport var MultiplyBlending = 4;\nexport var CustomBlending = 5;\nexport var AddEquation = 100;\nexport var SubtractEquation = 101;\nexport var ReverseSubtractEquation = 102;\nexport var MinEquation = 103;\nexport var MaxEquation = 104;\nexport var ZeroFactor = 200;\nexport var OneFactor = 201;\nexport var SrcColorFactor = 202;\nexport var OneMinusSrcColorFactor = 203;\nexport var SrcAlphaFactor = 204;\nexport var OneMinusSrcAlphaFactor = 205;\nexport var DstAlphaFactor = 206;\nexport var OneMinusDstAlphaFactor = 207;\nexport var DstColorFactor = 208;\nexport var OneMinusDstColorFactor = 209;\nexport var SrcAlphaSaturateFactor = 210;\nexport var NeverDepth = 0;\nexport var AlwaysDepth = 1;\nexport var LessDepth = 2;\nexport var LessEqualDepth = 3;\nexport var EqualDepth = 4;\nexport var GreaterEqualDepth = 5;\nexport var GreaterDepth = 6;\nexport var NotEqualDepth = 7;\nexport var MultiplyOperation = 0;\nexport var MixOperation = 1;\nexport var AddOperation = 2;\nexport var NoToneMapping = 0;\nexport var LinearToneMapping = 1;\nexport var ReinhardToneMapping = 2;\nexport var Uncharted2ToneMapping = 3;\nexport var CineonToneMapping = 4;\nexport var UVMapping = 300;\nexport var CubeReflectionMapping = 301;\nexport var CubeRefractionMapping = 302;\nexport var EquirectangularReflectionMapping = 303;\nexport var EquirectangularRefractionMapping = 304;\nexport var SphericalReflectionMapping = 305;\nexport var CubeUVReflectionMapping = 306;\nexport var CubeUVRefractionMapping = 307;\nexport var RepeatWrapping = 1000;\nexport var ClampToEdgeWrapping = 1001;\nexport var MirroredRepeatWrapping = 1002;\nexport var NearestFilter = 1003;\nexport var NearestMipMapNearestFilter = 1004;\nexport var NearestMipMapLinearFilter = 1005;\nexport var LinearFilter = 1006;\nexport var LinearMipMapNearestFilter = 1007;\nexport var LinearMipMapLinearFilter = 1008;\nexport var UnsignedByteType = 1009;\nexport var ByteType = 1010;\nexport var ShortType = 1011;\nexport var UnsignedShortType = 1012;\nexport var IntType = 1013;\nexport var UnsignedIntType = 1014;\nexport var FloatType = 1015;\nexport var HalfFloatType = 1016;\nexport var UnsignedShort4444Type = 1017;\nexport var UnsignedShort5551Type = 1018;\nexport var UnsignedShort565Type = 1019;\nexport var UnsignedInt248Type = 1020;\nexport var AlphaFormat = 1021;\nexport var RGBFormat = 1022;\nexport var RGBAFormat = 1023;\nexport var LuminanceFormat = 1024;\nexport var LuminanceAlphaFormat = 1025;\nexport var RGBEFormat = RGBAFormat;\nexport var DepthFormat = 1026;\nexport var DepthStencilFormat = 1027;\nexport var RGB_S3TC_DXT1_Format = 33776;\nexport var RGBA_S3TC_DXT1_Format = 33777;\nexport var RGBA_S3TC_DXT3_Format = 33778;\nexport var RGBA_S3TC_DXT5_Format = 33779;\nexport var RGB_PVRTC_4BPPV1_Format = 35840;\nexport var RGB_PVRTC_2BPPV1_Format = 35841;\nexport var RGBA_PVRTC_4BPPV1_Format = 35842;\nexport var RGBA_PVRTC_2BPPV1_Format = 35843;\nexport var RGB_ETC1_Format = 36196;\nexport var RGBA_ASTC_4x4_Format = 37808;\nexport var RGBA_ASTC_5x4_Format = 37809;\nexport var RGBA_ASTC_5x5_Format = 37810;\nexport var RGBA_ASTC_6x5_Format = 37811;\nexport var RGBA_ASTC_6x6_Format = 37812;\nexport var RGBA_ASTC_8x5_Format = 37813;\nexport var RGBA_ASTC_8x6_Format = 37814;\nexport var RGBA_ASTC_8x8_Format = 37815;\nexport var RGBA_ASTC_10x5_Format = 37816;\nexport var RGBA_ASTC_10x6_Format = 37817;\nexport var RGBA_ASTC_10x8_Format = 37818;\nexport var RGBA_ASTC_10x10_Format = 37819;\nexport var RGBA_ASTC_12x10_Format = 37820;\nexport var RGBA_ASTC_12x12_Format = 37821;\nexport var LoopOnce = 2200;\nexport var LoopRepeat = 2201;\nexport var LoopPingPong = 2202;\nexport var InterpolateDiscrete = 2300;\nexport var InterpolateLinear = 2301;\nexport var InterpolateSmooth = 2302;\nexport var ZeroCurvatureEnding = 2400;\nexport var ZeroSlopeEnding = 2401;\nexport var WrapAroundEnding = 2402;\nexport var TrianglesDrawMode = 0;\nexport var TriangleStripDrawMode = 1;\nexport var TriangleFanDrawMode = 2;\nexport var LinearEncoding = 3000;\nexport var sRGBEncoding = 3001;\nexport var GammaEncoding = 3007;\nexport var RGBEEncoding = 3002;\nexport var LogLuvEncoding = 3003;\nexport var RGBM7Encoding = 3004;\nexport var RGBM16Encoding = 3005;\nexport var RGBDEncoding = 3006;\nexport var BasicDepthPacking = 3200;\nexport var RGBADepthPacking = 3201;\nexport var TangentSpaceNormalMap = 0;\nexport var ObjectSpaceNormalMap = 1;\n","import { Vector4 } from '../math/Vector4.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Color } from '../math/Color.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n//\n\nexport {\n\tFloat64BufferAttribute,\n\tFloat32BufferAttribute,\n\tUint32BufferAttribute,\n\tInt32BufferAttribute,\n\tUint16BufferAttribute,\n\tInt16BufferAttribute,\n\tUint8ClampedBufferAttribute,\n\tUint8BufferAttribute,\n\tInt8BufferAttribute,\n\tBufferAttribute\n};\n","import { Vector3 } from '../math/Vector3.js';\nimport { Box3 } from '../math/Box3.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { BufferAttribute, Float32BufferAttribute, Uint16BufferAttribute, Uint32BufferAttribute } from './BufferAttribute.js';\nimport { Sphere } from '../math/Sphere.js';\nimport { DirectGeometry } from './DirectGeometry.js';\nimport { Object3D } from './Object3D.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport { _Math } from '../math/Math.js';\nimport { arrayMax } from '../utils.js';\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.length * 3, 3 );\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\t\tvar groups = this.groups;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tthis.addGroup( 0, indices.length );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = groups.length; j < jl; ++ j ) {\n\n\t\t\t\t\tvar group = groups[ j ];\n\n\t\t\t\t\tvar start = group.start;\n\t\t\t\t\tvar count = group.count;\n\n\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\n\t\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n\nexport { BufferGeometry };\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport { Vector2 } from '../math/Vector2.js';\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = [];\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { DirectGeometry };\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n\nexport { EventDispatcher };\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n\nexport { Layers };\n","import { Quaternion } from '../math/Quaternion.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { Euler } from '../math/Euler.js';\nimport { Layers } from './Layers.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport { _Math } from '../math/Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects with rotated and/or translated parent(s)\n\n\t\tvar m1 = new Matrix4();\n\t\tvar vector = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\tvector.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tif ( this.isCamera ) {\n\n\t\t\t\tm1.lookAt( this.position, vector, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( vector, this.position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\t\ttarget = new Quaternion();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, target, scale );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, target );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldDirection( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.getWorldQuaternion( quaternion );\n\n\t\t\treturn target.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t};\n\n\t}(),\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.geometry !== undefined ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Object3D };\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nimport { LineSegments } from '../objects/LineSegments.js';\nimport { VertexColors } from '../constants.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Color } from '../math/Color.js';\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\nexport { GridHelper };\n","import { Material } from './Material.js';\nimport { Color } from '../math/Color.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n\nexport { LineBasicMaterial };\n","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { NoColors, FrontSide, FlatShading, NormalBlending, LessEqualDepth, AddEquation, OneMinusSrcAlphaFactor, SrcAlphaFactor } from '../constants.js';\nimport { _Math } from '../math/Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else if ( key === 'overdraw' ) {\n\n\t\t\t\t// ensure overdraw is backwards-compatible with legacy boolean type\n\t\t\t\tthis[ key ] = Number( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.overdraw = source.overdraw;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n\nexport { Material };\n","import { Vector3 } from './Vector3.js';\nimport { Sphere } from './Sphere.js';\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= plane.constant && max >= plane.constant );\n\n\t},\n\n\tintersectsTriangle: ( function () {\n\n\t\t// triangle centered vertices\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\t// triangle edge vectors\n\t\tvar f0 = new Vector3();\n\t\tvar f1 = new Vector3();\n\t\tvar f2 = new Vector3();\n\n\t\tvar testAxis = new Vector3();\n\n\t\tvar center = new Vector3();\n\t\tvar extents = new Vector3();\n\n\t\tvar triangleNormal = new Vector3();\n\n\t\tfunction satForAxes( axes ) {\n\n\t\t\tvar i, j;\n\n\t\t\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t\t\ttestAxis.fromArray( axes, i );\n\t\t\t\t// project the aabb onto the seperating axis\n\t\t\t\tvar r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\n\t\t\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\t\t\tvar p0 = v0.dot( testAxis );\n\t\t\t\tvar p1 = v1.dot( testAxis );\n\t\t\t\tvar p2 = v2.dot( testAxis );\n\t\t\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\t\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn function intersectsTriangle( triangle ) {\n\n\t\t\tif ( this.isEmpty() ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// compute box center and extents\n\t\t\tthis.getCenter( center );\n\t\t\textents.subVectors( this.max, center );\n\n\t\t\t// translate triangle to aabb origin\n\t\t\tv0.subVectors( triangle.a, center );\n\t\t\tv1.subVectors( triangle.b, center );\n\t\t\tv2.subVectors( triangle.c, center );\n\n\t\t\t// compute edge vectors for triangle\n\t\t\tf0.subVectors( v1, v0 );\n\t\t\tf1.subVectors( v2, v1 );\n\t\t\tf2.subVectors( v0, v2 );\n\n\t\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\t\tvar axes = [\n\t\t\t\t0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\n\t\t\t\tf0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\n\t\t\t\t- f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\n\t\t\t];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// test 3 face normals from the aabb\n\t\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\t\t\ttriangleNormal.crossVectors( f0, f1 );\n\t\t\taxes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\n\t\t\treturn satForAxes( axes );\n\n\t\t};\n\n\t} )(),\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t\ttarget = new Sphere();\n\n\t\t\t}\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty( ) ) return this;\n\n\t\tvar m = matrix.elements;\n\n\t\tvar xax = m[ 0 ] * this.min.x, xay = m[ 1 ] * this.min.x, xaz = m[ 2 ] * this.min.x;\n\t\tvar xbx = m[ 0 ] * this.max.x, xby = m[ 1 ] * this.max.x, xbz = m[ 2 ] * this.max.x;\n\t\tvar yax = m[ 4 ] * this.min.y, yay = m[ 5 ] * this.min.y, yaz = m[ 6 ] * this.min.y;\n\t\tvar ybx = m[ 4 ] * this.max.y, yby = m[ 5 ] * this.max.y, ybz = m[ 6 ] * this.max.y;\n\t\tvar zax = m[ 8 ] * this.min.z, zay = m[ 9 ] * this.min.z, zaz = m[ 10 ] * this.min.z;\n\t\tvar zbx = m[ 8 ] * this.max.z, zby = m[ 9 ] * this.max.z, zbz = m[ 10 ] * this.max.z;\n\n\t\tthis.min.x = Math.min( xax, xbx ) + Math.min( yax, ybx ) + Math.min( zax, zbx ) + m[ 12 ];\n\t\tthis.min.y = Math.min( xay, xby ) + Math.min( yay, yby ) + Math.min( zay, zby ) + m[ 13 ];\n\t\tthis.min.z = Math.min( xaz, xbz ) + Math.min( yaz, ybz ) + Math.min( zaz, zbz ) + m[ 14 ];\n\t\tthis.max.x = Math.max( xax, xbx ) + Math.max( yax, ybx ) + Math.max( zax, zbx ) + m[ 12 ];\n\t\tthis.max.y = Math.max( xay, xby ) + Math.max( yay, yby ) + Math.max( zay, zby ) + m[ 13 ];\n\t\tthis.max.z = Math.max( xaz, xbz ) + Math.max( yaz, ybz ) + Math.max( zaz, zbz ) + m[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n\nexport { Box3 };\n","import { _Math } from './Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function () {\n\n\t\tfunction SRGBToLinear( c ) {\n\n\t\t\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n\t\t}\n\n\t\treturn function copySRGBToLinear( color ) {\n\n\t\t\tthis.r = SRGBToLinear( color.r );\n\t\t\tthis.g = SRGBToLinear( color.g );\n\t\t\tthis.b = SRGBToLinear( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopyLinearToSRGB: function () {\n\n\t\tfunction LinearToSRGB( c ) {\n\n\t\t\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n\t\t}\n\n\t\treturn function copyLinearToSRGB( color ) {\n\n\t\t\tthis.r = LinearToSRGB( color.r );\n\t\t\tthis.g = LinearToSRGB( color.g );\n\t\t\tthis.b = LinearToSRGB( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function () {\n\n\t\tvar hsl = {};\n\n\t\treturn function ( h, s, l ) {\n\n\t\t\tthis.getHSL( hsl );\n\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n\nexport { Color };\n","import { Quaternion } from './Quaternion.js';\nimport { Vector3 } from './Vector3.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { _Math } from './Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n\nexport { Euler };\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n\nexport { _Math };\n","import { Vector3 } from './Vector3.js';\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix3 };\n","import { Vector3 } from './Vector3.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t        te[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t        te[ 1 ] = ( xy + wz ) * sx;\n\t        te[ 2 ] = ( xz - wy ) * sx;\n\t        te[ 3 ] = 0;\n\n\t        te[ 4 ] = ( xy - wz ) * sy;\n\t        te[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t        te[ 6 ] = ( yz + wx ) * sy;\n\t        te[ 7 ] = 0;\n\n\t        te[ 8 ] = ( xz + wy ) * sz;\n\t        te[ 9 ] = ( yz - wx ) * sz;\n\t        te[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t        te[ 11 ] = 0;\n\n\t        te[ 12 ] = position.x;\n\t        te[ 13 ] = position.y;\n\t        te[ 14 ] = position.z;\n\t        te[ 15 ] = 1;\n\n\t        return this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix4 };\n","import { Vector3 } from './Vector3.js';\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n\nexport { Quaternion };\n","import { Vector3 } from './Vector3.js';\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, target ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, target );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, target );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n\nexport { Ray };\n","import { Box3 } from './Box3.js';\nimport { Vector3 } from './Vector3.js';\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n\nexport { Sphere };\n","/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector2 };\n","import { _Math } from './Math.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { Quaternion } from './Quaternion.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function project( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\tvar sinPhiRadius = Math.sin( s.phi ) * s.radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( s.theta );\n\t\tthis.y = Math.cos( s.phi ) * s.radius;\n\t\tthis.z = sinPhiRadius * Math.cos( s.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\tthis.x = c.radius * Math.sin( c.theta );\n\t\tthis.y = c.y;\n\t\tthis.z = c.radius * Math.cos( c.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector3 };\n","/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector4 };\n","import { Sphere } from '../math/Sphere.js';\nimport { Ray } from '../math/Ray.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { LineSegments } from './LineSegments.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\n\t\treturn new LineSegments( geometry, material );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i ] += start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() ),\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\t\t\tvar precisionSq = precision * precision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n\nexport { Line };\n","import { Line } from './Line.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [];\n\n\t\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t\tstart.copy( vertices[ i ] );\n\t\t\t\t\tend.copy( vertices[ i + 1 ] );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() )\n\n} );\n\n\nexport { LineSegments };\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMin( array ) {\n\n\tif ( array.length === 0 ) return Infinity;\n\n\tvar min = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] < min ) min = array[ i ];\n\n\t}\n\n\treturn min;\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nexport { arrayMin, arrayMax };\n","import 'three/examples/js/loaders/OBJLoader'\nimport 'three/examples/js/loaders/MTLLoader'\n\nimport { Object3D } from './Object3D'\n\nexport class File3D extends Object3D {\n\tobjLoader = new Three.OBJLoader()\n\tmatLoader = new Three.MTLLoader()\n\tcomponentDidMount() {\n\t\tthis.matLoader.setPath('/ss-virtual-showroom/assets/').load(this.props.mtl, material => {\n\t\t\tmaterial.preload()\n\t\t\tthis.objLoader\n\t\t\t\t.setMaterials(material)\n\t\t\t\t.setPath(' http://localhost:63342/ss-virtual-showroom/assets/')\n\t\t\t\t.load(this.props.obj, object => {\n\t\t\t\t\tthis.object = this.enhance(object)\n\t\t\t\t\tif (this.parent) this.parent.add(this.object)\n\t\t\t\t})\n\t\t})\n\t}\n\tenhance = object => {\n\t\tobject.castShadow = true\n\t\tobject.receiveShadow = true\n\t\tobject.children.forEach(this.enhance)\n\t\treturn object\n\t}\n}\n","import 'three/src/helpers/GridHelper'\n\nimport { Object3D } from './Object3D'\n\nexport class Floor3D extends Object3D {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst material = new Three.MeshPhysicalMaterial()\n\t\tconst geometry = new Three.PlaneBufferGeometry(10, 10)\n\t\tconst plane = new Three.Mesh(geometry, material)\n\t\tplane.rotation.x = Math.PI / -2\n\t\tplane.receiveShadow = true\n\t\tplane.castShadow = true\n\n\t\tconst grid = new Three.GridHelper(10, 10)\n\n\t\tthis.object = new Three.Group()\n\t\tthis.object.add(plane)\n\t\tthis.object.add(grid)\n\n\t\tnew Three.TextureLoader().setPath('/ss-virtual-showroom/assets/').load('UV_Grid_Sm.jpg', texture => {\n\t\t\ttexture.mapping = Three.UVMapping\n\t\t\ttexture.wrapS = Three.RepeatWrapping\n\t\t\ttexture.wrapT = Three.RepeatWrapping\n\t\t\ttexture.repeat.set(1, 1)\n\t\t\tmaterial.map = texture\n\t\t\tmaterial.needsUpdate = true\n\t\t})\n\t}\n}\n","export const ParentContext = React.createContext(null)\n\nexport class Object3D extends React.Component {\n\tstatic propTypes = {\n\t\tchildren: PropTypes.node\n\t}\n\tstatic defaultProps = {\n\t\tchildren: null\n\t}\n\tcomponentDidMount() {\n\t\tif (this.object && this.parent) {\n\t\t\tthis.parent.add(this.object)\n\t\t}\n\t\tthis.update()\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.update()\n\t}\n\tcomponentWillUnmount() {\n\t\tif (this.object && this.parent) {\n\t\t\tthis.parent.remove(this.object)\n\t\t}\n\t}\n\tupdate() {}\n\trender() {\n\t\treturn (\n\t\t\t<ParentContext.Consumer>\n\t\t\t\t{parent => {\n\t\t\t\t\tthis.parent = parent\n\t\t\t\t\treturn <ParentContext.Provider value={this}>{this.props.children}</ParentContext.Provider>\n\t\t\t\t}}\n\t\t\t</ParentContext.Consumer>\n\t\t)\n\t}\n}\n","import 'three/examples/js/controls/FlyControls'\nimport 'three/examples/js/controls/MapControls'\nimport 'three/examples/js/controls/OrbitControls'\nimport 'three/examples/js/controls/PointerLockControls'\n\nimport { Object3D, ParentContext } from './Object3D'\n\nexport class Scene3D extends Object3D {\n\tstatic propTypes = {\n\t\tchildren: PropTypes.node,\n\t\tantialias: PropTypes.bool,\n\t\tcontrols: PropTypes.oneOf(['fpv', 'fly', 'map', 'orbit']),\n\t\tfar: PropTypes.number,\n\t\tfov: PropTypes.number,\n\t\tnear: PropTypes.number,\n\t\tzoom: PropTypes.number\n\t}\n\tstatic defaultProps = {\n\t\tchildren: null,\n\t\tantialias: true,\n\t\tcontrols: 'orbit',\n\t\tfar: 4000,\n\t\tfov: 60,\n\t\tnear: 0.01,\n\t\tzoom: 1\n\t}\n\tclock = new Three.Clock()\n\twrapper = React.createRef()\n\tscene = new Three.Scene()\n\tcamera = new Three.PerspectiveCamera()\n\trenderer = new Three.WebGLRenderer({ antialias: true })\n\tcontrols = {\n\t\t// fpv: new Three.PointerLockControls(this.camera),\n\t\t// fly: new Three.FlyControls(this.camera),\n\t\t// map: new Three.MapControls(this.camera),\n\t\torbit: new Three.OrbitControls(this.camera)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.mounted = true\n\t\t// this.controls.map.enabled = false\n\t\tthis.controls.orbit.enabled = false\n\t\t// this.controls.screenSpacePanning = true\n\t\t// this.controls.fly.enabled = false\n\t\t// this.controls.fpv.enabled = false\n\t\tthis.wrapper.current.appendChild(this.renderer.domElement)\n\t\tthis.camera.position.set(-2, 1, 7)\n\t\t// this.object.add(this.controls.fpv.getObject())\n\t\t// this.controls.fly.dragToLook = false\n\t\t// this.controls.fly.movementSpeed = 1\n\t\t// this.controls.fly.rollSpeed = 0.5\n\t\t// this.controls.map.target.set(0, 2, 0)\n\t\tthis.controls.orbit.target.set(0, 1, 0)\n\t\taddEventListener('resize', this.update, true)\n\t\tthis.update()\n\t\tthis.animate()\n\n\t\t// Test objects\n\t\tnew Three.TextureLoader().setPath('/ss-virtual-showroom/assets/').load('metal.jpg', texture => {\n\t\t\ttexture.mapping = Three.SphericalReflectionMapping\n\t\t\tconst geometry = new Three.SphereGeometry(0.5, 48, 48)\n\t\t\tconst material = new Three.MeshLambertMaterial({\n\t\t\t\tenvMap: texture\n\t\t\t})\n\t\t\tthis.box = new Three.Mesh(geometry, material)\n\t\t\tthis.box.position.set(-1.5, 0.5, 0)\n\t\t\tthis.box.castShadow = true\n\t\t\tthis.scene.add(this.box)\n\t\t\tthis.update()\n\t\t})\n\t\tnew Three.TextureLoader()\n\t\t\t.setPath('/ss-virtual-showroom/assets/')\n\t\t\t.load('2294472375_24a3b8ef46_o.jpg', texture => {\n\t\t\t\ttexture.mapping = Three.EquirectangularReflectionMapping\n\t\t\t\tconst geometry = new Three.SphereGeometry(0.5, 48, 48)\n\t\t\t\tconst material = new Three.MeshPhongMaterial({\n\t\t\t\t\tenvMap: texture,\n\t\t\t\t\temissive: 0.5,\n\t\t\t\t\treflectivity: 0.7\n\t\t\t\t})\n\t\t\t\tthis.box = new Three.Mesh(geometry, material)\n\t\t\t\tthis.box.position.set(1.5, 0.5, 0)\n\t\t\t\tthis.box.castShadow = true\n\t\t\t\tthis.scene.add(this.box)\n\t\t\t\tthis.update()\n\t\t\t})\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mounted = false\n\t\tremoveEventListener('resize', this.update, true)\n\t}\n\n\tupdate = () => {\n\t\tconst width = window.innerWidth\n\t\tconst height = window.innerHeight\n\t\tthis.camera.fov = this.props.fov\n\t\tthis.camera.far = this.props.far\n\t\tthis.camera.near = this.props.near\n\t\tthis.camera.aspect = width / height\n\t\tthis.camera.updateProjectionMatrix()\n\t\tthis.renderer.setSize(width, height)\n\t\tthis.renderer.shadowMap.enabled = true\n\t\tthis.renderer.antialias = this.props.antialias\n\t\tif (this.controls.current !== this.controls[this.props.controls]) {\n\t\t\tif (this.controls.current) {\n\t\t\t\tthis.controls.current.enabled = false\n\t\t\t}\n\t\t\tthis.controls.current = this.controls[this.props.controls]\n\t\t\tthis.controls.current.enabled = true\n\t\t}\n\t}\n\n\tanimate = () => {\n\t\tthis.controls.current.update()\n\t\tthis.renderer.render(this.scene, this.camera)\n\t\tif (this.mounted) {\n\t\t\trequestAnimationFrame(this.animate)\n\t\t}\n\t}\n\thandleClick = e => {\n\t\t// e.currentTarget.requestPointerLock()\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ParentContext.Provider value={this.scene}>\n\t\t\t\t{this.props.children}\n\t\t\t\t<div ref={this.wrapper} onClick={this.handleClick} />\n\t\t\t</ParentContext.Provider>\n\t\t)\n\t}\n}\n","import { Object3D } from 'Object3D'\n\nimport 'three/examples/js/objects/Sky'\n\nexport class Sky3D extends Object3D {\n\tstatic propTypes = {\n\t\t...Object3D.propTypes,\n\t\tazimuth: PropTypes.number,\n\t\tinclination: PropTypes.number,\n\t\trayleigh: PropTypes.number,\n\t\tturbidity: PropTypes.number,\n\t\tluminance: PropTypes.number,\n\t\tmieCoefficient: PropTypes.number,\n\t\tmieDirectionalG: PropTypes.number\n\t}\n\n\tstatic defaultProps = {\n\t\t...Object3D.defaultProps,\n\t\tazimuth: 0.28,\n\t\tinclination: -0.35,\n\t\trayleigh: 2,\n\t\tturbidity: 10,\n\t\tluminance: 1,\n\t\tmieCoefficient: 0.003,\n\t\tmieDirectionalG: 0.8\n\t}\n\tsky = new Three.Sky()\n\tlight = new Three.DirectionalLight()\n\themi = new Three.HemisphereLight()\n\tambient = new Three.AmbientLight()\n\tobject = Object.assign(new Three.Group(), { children: [this.sky, this.light, this.hemi, this.ambient] })\n\n\tupdate() {\n\t\tconst { sky, light, hemi } = this\n\t\tconst distance = 100\n\n\t\tconst { inclination, azimuth, turbidity, rayleigh, luminance, mieCoefficient, mieDirectionalG } = this.props\n\n\t\tconst theta = Math.PI * (inclination - 0.5)\n\t\tconst phi = 2 * Math.PI * (azimuth - 0.5)\n\t\tconst sunX = distance * Math.cos(phi)\n\t\tconst sunY = distance * Math.sin(phi) * Math.sin(theta)\n\t\tconst sunZ = distance * Math.sin(phi) * Math.cos(theta)\n\n\t\tsky.scale.setScalar(400000)\n\n\t\tsky.material.uniforms.turbidity.value = turbidity\n\t\tsky.material.uniforms.rayleigh.value = rayleigh\n\t\tsky.material.uniforms.luminance.value = luminance\n\t\tsky.material.uniforms.mieCoefficient.value = mieCoefficient\n\t\tsky.material.uniforms.mieDirectionalG.value = mieDirectionalG\n\t\tsky.material.uniforms.sunPosition.value.set(sunX, sunY, sunZ)\n\n\t\tlight.castShadow = true\n\t\tlight.position.copy(sky.material.uniforms.sunPosition.value)\n\t\tlight.intensity = 1\n\t\tlight.color.setHSL(0.1, 1, 0.95)\n\t\tlight.shadow.mapSize.width = 4096\n\t\tlight.shadow.mapSize.height = 4096\n\n\t\themi.intensity = 0.6\n\t\themi.color.setHSL(0.6, 1, 0.6)\n\t\themi.groundColor.setHSL(0.095, 1, 0.75)\n\t\themi.position.set(0, 50, 0)\n\t}\n}\n","export * from './Scene3D'\nexport * from './Object3D'\nexport * from './Floor3D'\nexport * from './File3D'\nexport * from './Sky3D'\n","module.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_three__;"],"sourceRoot":""}